<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.bitc.dream_com.mapper.TestMapper">
    <select id="getProductData" resultType="com.bitc.dream_com.dto.ProductDto">
        select * from product pr join category ca on pr.product_num = ca.product_num
                                 join product_type pt on ca.type_num = pt.type_num
                                 join company co on ca.company_num = co.company_num
                                 join product_img pi on pr.product_num = pi.product_num
        order by product_createDt desc limit 5;
    </select>

    <select id="getProductData10" resultType="com.bitc.dream_com.dto.ProductDto">
        select * from product pr join category ca on pr.product_num = ca.product_num
                                 join product_type pt on ca.type_num = pt.type_num
                                 join company co on ca.company_num = co.company_num
                                 join product_img pi on pr.product_num = pi.product_num
        order by product_createDt desc limit 10;
    </select>

    <update id="updateProduct" parameterType="com.bitc.dream_com.dto.ProductDto">
        update product set product_num = #{num}, product_title = #{title}, product_name = #{name}, product_price = #{price}, product_discount = #{discount}, inventory_quantity = #{quantity}, product_createDt = now(), delivery_info = #{delivery}, click_count = #{click} where product_num = 12345
    </update>
</mapper>